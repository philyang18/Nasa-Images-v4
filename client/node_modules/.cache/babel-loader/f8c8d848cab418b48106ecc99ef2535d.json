{"ast":null,"code":"var _jsxFileName = \"/Users/phillipyang/Desktop/Nasa-Images-v3/client/src/APOD.js\";\nimport React from 'react';\nimport { fetchAPOD, fetchApodFavorites } from './NasaAPIs';\nimport { formatDisplayDate } from './Formatting';\nimport Loading from './Loading';\nimport Iframe from 'react-iframe';\nimport thumbnail from './images/galaxy.jpg';\nimport { addPhotoNotification, removePhotoNotification } from './Notifications';\nimport DocumentTitle from \"react-document-title\";\nimport axios from 'axios';\nconst API = \"https://itp404-final-project-yangphil.herokuapp.com/api/favorites\";\nexport default class APOD extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      this.setState({\n        loading: true\n      });\n      const apod = await fetchAPOD();\n\n      if (apod.error) {\n        this.setState({\n          overRequestedAPI: true\n        });\n      } else {\n        this.setState({\n          apod\n        });\n        this.state.previousSeven.push([]);\n        this.state.previousSeven[0].push(apod);\n        this.setState({\n          mainLoading: false,\n          todaysDate: apod.date\n        });\n        const currentDate = apod.date;\n        const dateComponents = currentDate.split('-');\n        var year = Number(dateComponents[0]),\n            month = Number(dateComponents[1]),\n            day = Number(dateComponents[2]);\n\n        for (var i = 1; i < 7; i++) {\n          if (day === 1) {\n            month -= 1;\n\n            if (month === 5 || month === 7 || month === 8 || month === 10 || month === 12) {\n              day = 30;\n            } else if (month === 3) {\n              if (year % 4 === 0) {\n                day = 29;\n              } else {\n                day = 28;\n              }\n            } else if (month === 1) {\n              day = 31;\n              month = 12;\n              year -= 1;\n            } else {\n              day = 30;\n            }\n          } else {\n            day -= 1;\n          }\n\n          const newDate = String(year) + \"-\" + String(month) + \"-\" + String(day);\n          this.state.previousSeven.push([]);\n          this.state.previousSeven[i].push((await fetchAPOD(newDate)));\n        }\n\n        if (apod.media_type !== \"video\") {\n          this.checkIfLiked(apod);\n        }\n\n        this.setState({\n          loading: false,\n          description: apod.explanation\n        });\n      }\n    };\n\n    this.checkIfLiked = async photo => {\n      const urlComponents = photo.hdurl.split('/');\n      const id = urlComponents[urlComponents.length - 1];\n      const acc = {\n        _id: this.props.location.state.email,\n        data: {\n          _id: id\n        }\n      };\n      let res = await axios.post(\"http://localhost:4000/account/favorites/apod/fetch\", acc);\n\n      if (res.status !== 200) {\n        this.setState({\n          liked: false\n        });\n      } else {\n        this.setState({\n          liked: true\n        });\n      }\n    };\n\n    this.handleClick = photo => {\n      window.scrollTo({\n        top: 240,\n        behavior: 'smooth'\n      });\n\n      if (photo.date !== this.state.apod.date) {\n        this.setState({\n          apod: photo\n        });\n\n        if (photo.media_type !== \"video\") {\n          this.checkIfLiked(photo);\n        }\n      }\n    };\n\n    this.showDescription = () => {\n      this.setState({\n        descriptionSection: \"show-description\",\n        descriptionButton: \"hide-description\"\n      });\n    };\n\n    this.hideDescription = () => {\n      this.setState({\n        descriptionSection: \"hide-description\",\n        descriptionButton: \"show-description\"\n      });\n    };\n\n    this.toggleLike = async () => {\n      const urlComponents = this.state.apod.hdurl.split('/');\n      const id = urlComponents[urlComponents.length - 1];\n\n      if (!this.state.liked) {\n        const newFav = {\n          _id: this.props.location.state.email,\n          data: {\n            _id: id,\n            url: this.state.apod.hdurl,\n            date: this.state.apod.date,\n            comment: \"\",\n            api: \"apod\"\n          }\n        };\n        axios.put('http://localhost:4000/account/favorites/apod/add', newFav).then(response => {\n          addPhotoNotification(id);\n        }).catch(err => {// console.log(err);\n        });\n      } else if (this.state.liked) {\n        axios.delete('http://localhost:4000/account/favorites/apod/delete', {\n          // for delete, all data must be wrapped in data\n          data: {\n            _id: this.props.location.state.email,\n            data: {\n              _id: id\n            }\n          }\n        }).then(response => {\n          removePhotoNotification(id);\n        }).catch(err => {// console.log(\"didn't delete\");\n        });\n      }\n\n      this.setState({\n        liked: !this.state.liked\n      });\n    };\n\n    this.lastTap = null;\n\n    this.handleDoubleTap = () => {\n      const now = Date.now();\n      const DOUBLE_PRESS_DELAY = 300;\n\n      if (this.lastTap && now - this.lastTap < DOUBLE_PRESS_DELAY) {\n        this.toggleLike();\n      } else {\n        this.lastTap = now;\n      }\n    };\n\n    this.state = {\n      apod: [],\n      previousSeven: [],\n      todaysDate: '',\n      loading: false,\n      description: '',\n      descriptionSection: 'hide-description',\n      descriptionButton: 'show-description',\n      overRequestedAPIAPI: false,\n      liked: false\n    };\n  }\n\n  render() {\n    if (this.state.description !== this.state.apod.explanation) {\n      this.setState({\n        descriptionSection: \"hide-description\",\n        descriptionButton: \"show-description\",\n        description: this.state.apod.explanation\n      });\n    }\n\n    return React.createElement(DocumentTitle, {\n      title: \"NASA Images\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"homePage\",\n      onClick: this.props.onClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, this.state.overRequestedAPIAPI ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Too many requests to Nasa API\") : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"page-title d-xs-block d-md-none\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"NASA\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Photo of the Day\")), React.createElement(\"h1\", {\n      className: \"page-title d-none d-md-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"Astronomy Picture of the Day\"), this.state.loading ? React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"main-image\",\n      className: \"col-lg-9 col-md-9 col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"column-title col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, this.state.todaysDate === this.state.apod.date ? \"Today\" : formatDisplayDate(this.state.apod.date))), React.createElement(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, this.state.apod.media_type !== \"video\" ? React.createElement(\"img\", {\n      src: this.state.apod.hdurl,\n      onClick: this.handleDoubleTap,\n      alt: this.state.apod.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }) : React.createElement(Iframe, {\n      src: this.state.apod.url,\n      width: \"100%\",\n      frameBorder: \"0\",\n      allowFullScreen: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 apod-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, this.state.apod.media_type !== \"video\" ? React.createElement(\"p\", {\n      className: \"icon-holder\",\n      onClick: this.toggleLike,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.liked ? require('./images/filledHeart.png') : require('./images/emptyHeart.png'),\n      className: \"heart-icon\",\n      alt: \"heart icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    })) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      id: \"apod-date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, formatDisplayDate(this.state.apod.date)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, this.state.apod.title)), React.createElement(\"p\", {\n      id: \"apod-description-button\",\n      className: \"\".concat(this.state.descriptionButton, \" d-xs-block d-md-none\"),\n      onClick: this.showDescription,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Click to Read Description...\"), React.createElement(\"div\", {\n      className: \"d-xs-block d-md-none\",\n      onClick: this.hideDescription,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: this.state.descriptionSection,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, this.state.description)), React.createElement(\"p\", {\n      className: \"d-none d-md-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, this.state.apod.explanation), this.state.apod.copyright ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Credit: \", this.state.apod.copyright) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      id: \"previous-image-column\",\n      className: \"col-lg-3 col-md-3 col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"column-title col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Last 7 Days\")), this.state.previousSeven.map(last => {\n      return React.createElement(\"img\", {\n        src: last[0].media_type === \"video\" ? thumbnail : last[0].hdurl,\n        className: this.state.apod.date === last[0].date ? \"col-12 previous-image active\" : \"col-12 previous-image\",\n        loading: \"lazy\",\n        key: last[0].title,\n        onClick: () => {\n          this.handleClick(last[0]);\n        },\n        alt: last[0].title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      });\n    })))))));\n  }\n\n} // class DescriptionButton extends React.Component {\n// \tconstructor(props){\n// \t\tsuper(props);\n// \t\tthis.state = {\n// \t\t\tdescription: '',\n// \t\t\thideDescription: 'hideDescription'\n// \t\t};\n// \t}\n// \tcomponentDidMount() {\n// \t\tthis.setState({ description: this.props.description });\n// \t\tconsole.log(this.state.description);\n// \t\tconsole.log(this.props.description);\n// \t}\n// \thandleButtonClick = () => {\n// \t\tthis.setState({ hideDescription: \"show-description\"});\n// \t}\n// \trender() {\n// \t\tif(this.state.description !== this.props.description) {\n// \t\t\tthis.setState({ hideDescription: \"hideDescription\", description: this.props.description});\n// \t\t}\n// \t\treturn (\n// \t\t\t<div>\n// \t\t\t\t<p id=\"apod-description-button\" className=\"col-12\" onClick={this.handleButtonClick}>Click to Read Description...</p>\n// \t\t\t\t<p id=\"apod-description\" className={this.state.hideDescription}>{this.state.description}</p>\n// \t\t\t</div>\t\t\t\t\t\n// \t\t);\n// \t}\n// }","map":{"version":3,"sources":["/Users/phillipyang/Desktop/Nasa-Images-v3/client/src/APOD.js"],"names":["React","fetchAPOD","fetchApodFavorites","formatDisplayDate","Loading","Iframe","thumbnail","addPhotoNotification","removePhotoNotification","DocumentTitle","axios","API","APOD","Component","constructor","props","componentDidMount","setState","loading","apod","error","overRequestedAPI","state","previousSeven","push","mainLoading","todaysDate","date","currentDate","dateComponents","split","year","Number","month","day","i","newDate","String","media_type","checkIfLiked","description","explanation","photo","urlComponents","hdurl","id","length","acc","_id","location","email","data","res","post","status","liked","handleClick","window","scrollTo","top","behavior","showDescription","descriptionSection","descriptionButton","hideDescription","toggleLike","newFav","url","comment","api","put","then","response","catch","err","delete","lastTap","handleDoubleTap","now","Date","DOUBLE_PRESS_DELAY","overRequestedAPIAPI","render","onClick","title","require","copyright","map","last"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { fetchAPOD, fetchApodFavorites } from './NasaAPIs';\nimport { formatDisplayDate } from './Formatting';\nimport Loading from './Loading';\nimport Iframe from 'react-iframe';\nimport thumbnail from './images/galaxy.jpg';\nimport { addPhotoNotification, removePhotoNotification } from './Notifications';\nimport DocumentTitle from \"react-document-title\";\nimport axios from 'axios';\n\nconst API = \"https://itp404-final-project-yangphil.herokuapp.com/api/favorites\";\n\n\nexport default class APOD extends React.Component {\n    constructor(props) {\n\t\tsuper(props);\n        this.state ={\n\t\t\tapod: [],\n\t\t\tpreviousSeven: [],\n\t\t\ttodaysDate: '',\n\t\t\tloading: false,\n\t\t\tdescription: '',\n\t\t\tdescriptionSection: 'hide-description',\n\t\t\tdescriptionButton: 'show-description', \n\t\t\toverRequestedAPIAPI: false,\n\t\t\tliked: false\n\t\t};\n\t}\n\tcomponentDidMount = async () => {\n\t\tthis.setState( { loading: true });\n\t\tconst apod = await fetchAPOD();\n\t\tif (apod.error) {\n\t\t\tthis.setState({ overRequestedAPI: true });\n\t\t} else {\n\t\t\tthis.setState({ apod });\n\t\t\tthis.state.previousSeven.push([]);\n\t\t\tthis.state.previousSeven[0].push(apod);\n\t\t\tthis.setState( { mainLoading: false, todaysDate: apod.date });\n\t\t\tconst currentDate = apod.date;\n\t\t\tconst dateComponents = currentDate.split('-');\n\t\t\tvar year = Number(dateComponents[0]), month = Number(dateComponents[1]), day = Number(dateComponents[2]);\n\t\t\tfor( var i = 1; i < 7; i++) {\n\t\t\t\tif (day === 1){\n\t\t\t\t\tmonth -= 1;\n\t\t\t\t\tif(month === 5 || month === 7 || month === 8 || month === 10 || month === 12) {\n\t\t\t\t\t\tday = 30;\n\t\t\t\t\t} else if (month === 3 ) {\n\t\t\t\t\t\tif (year % 4 === 0) {\n\t\t\t\t\t\t\tday = 29;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tday = 28;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (month === 1) {\n\t\t\t\t\t\tday = 31;\n\t\t\t\t\t\tmonth = 12;\n\t\t\t\t\t\tyear -= 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tday = 30;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tday -= 1;\n\t\t\t\t}\n\t\t\t\tconst newDate = String(year) + \"-\" + String(month) + \"-\" + String(day);\n\t\t\t\tthis.state.previousSeven.push([]);\n\t\t\t\tthis.state.previousSeven[i].push( await fetchAPOD(newDate) );\n\t\t\t}\n\t\t\tif(apod.media_type !== \"video\") {\n\t\t\t\tthis.checkIfLiked(apod);\n\t\t\t}\n\t\t\t\n\t\t\tthis.setState({ loading: false, description: apod.explanation});\n\t\t}\n\t}\n\t\n\tcheckIfLiked = async (photo) => {\n\n\t\tconst urlComponents = photo.hdurl.split('/');\n\t\tconst id = urlComponents[urlComponents.length - 1];\n\t\tconst acc = {\n\t\t\t_id: this.props.location.state.email,\n\t\t\tdata: {\n\t\t\t\t_id: id\n\t\t\t}\n\t\t}\n\t\tlet res = await axios.post(`http://localhost:4000/account/favorites/apod/fetch`, acc);\n\t\tif(res.status !== 200) {\n\t\t\tthis.setState({ liked: false });\n\t\t} else {\n\t\t\tthis.setState({ liked: true });\n\t\t}\n\t}\n\thandleClick = (photo) => {\n\t\twindow.scrollTo({top: 240, behavior: 'smooth' });\n\t\tif(photo.date !== this.state.apod.date) {\n\t\t\tthis.setState({ apod: photo });\n\t\t\tif(photo.media_type !== \"video\") {\n\t\t\t\tthis.checkIfLiked( photo );\n\t\t\t}\n\t\t}\n\t} \n\tshowDescription = () => {\n\t\tthis.setState({ descriptionSection: \"show-description\", descriptionButton: \"hide-description\"});\n\t}\n\thideDescription = () => {\n\t\tthis.setState({ descriptionSection: \"hide-description\", descriptionButton: \"show-description\"});\n\t}\n\ttoggleLike = async () => {\n\t\tconst urlComponents = this.state.apod.hdurl.split('/');\n\t\tconst id = urlComponents[urlComponents.length - 1];\n\t\tif(!this.state.liked){\n\t\t\tconst newFav = {\n                _id: this.props.location.state.email,\n                data: {\n\t\t\t\t\t_id: id,\n\t\t\t\t\turl: this.state.apod.hdurl,\n\t\t\t\t\tdate: this.state.apod.date,\n\t\t\t\t\tcomment: \"\",\n\t\t\t\t\tapi: \"apod\"\n\t\t\t\t}\n\t\t\t};\n\t\t\taxios.put('http://localhost:4000/account/favorites/apod/add', newFav)\n\t\t\t\t.then(response => {\n\t\t\t\t\taddPhotoNotification(id);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\t// console.log(err);\n\t\t\t\t});\n\t\t\t\n\t\t}\n\t\telse if(this.state.liked){\n\t\t\taxios.delete('http://localhost:4000/account/favorites/apod/delete', {\n\t\t\t\t// for delete, all data must be wrapped in data\n                data: {\n\t\t\t\t\t_id: this.props.location.state.email,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t_id: id\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(response => {\n\t\t\t\tremovePhotoNotification(id);\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\t// console.log(\"didn't delete\");\n\t\t\t});\n\t\t\t\n\t\t}\n\t\tthis.setState({ liked: !this.state.liked });\n\t}\n\n\tlastTap = null;\n\thandleDoubleTap = () => {\n\t\tconst now = Date.now();\n\t\tconst DOUBLE_PRESS_DELAY = 300;\n\t\tif (this.lastTap && (now - this.lastTap) < DOUBLE_PRESS_DELAY) {\n\t\t\tthis.toggleLike();\n\t\t} else {\n\t\t\tthis.lastTap = now;\n\t\t}\n\t}\n\t\n    render() {\n\t\tif(this.state.description !== this.state.apod.explanation) {\n\t\t\tthis.setState({ descriptionSection: \"hide-description\", descriptionButton: \"show-description\", description: this.state.apod.explanation});\n\t\t}\n        return(\n\t\t\t<DocumentTitle title=\"NASA Images\">\n\t\t\t\t<div id=\"homePage\" onClick={this.props.onClick}> \n\t\t\t\t\t{this.state.overRequestedAPIAPI ? <div>Too many requests to Nasa API</div> :\n\t\t\t\t\t\t<div> \n\t\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t\t<h1 className=\"page-title d-xs-block d-md-none\"><div>NASA</div><div>Photo of the Day</div></h1>\t\n\t\t\t\t\t\t\t\t<h1 className=\"page-title d-none d-md-block\">Astronomy Picture of the Day</h1>\t\t\n\t\t\t\t\t\t\t\t{this.state.loading ? <Loading/> : \n\t\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t\t<div id=\"main-image\" className=\"col-lg-9 col-md-9 col-sm-12\">\n\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"column-title col-12\"><strong>{this.state.todaysDate === this.state.apod.date ? \"Today\" : formatDisplayDate(this.state.apod.date)}</strong></h3>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.apod.media_type !== \"video\" ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={this.state.apod.hdurl} onClick={this.handleDoubleTap} alt={this.state.apod.title} /> :\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Iframe src={this.state.apod.url} width=\"100%\"frameBorder=\"0\" allowFullScreen/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 apod-details\">\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.apod.media_type !== \"video\" ? \n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"icon-holder\" onClick={this.toggleLike}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={this.state.liked ? require('./images/filledHeart.png') : require('./images/emptyHeart.png')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"heart-icon\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"heart icon\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p> : <p/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t<p id=\"apod-date\">{formatDisplayDate(this.state.apod.date)}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>{this.state.apod.title}</strong></p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p id=\"apod-description-button\" className={`${this.state.descriptionButton} d-xs-block d-md-none`} onClick={this.showDescription}>Click to Read Description...</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-xs-block d-md-none\" onClick={this.hideDescription}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className={this.state.descriptionSection} >{this.state.description}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"d-none d-md-block\">{this.state.apod.explanation}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.apod.copyright ? \n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Credit: {this.state.apod.copyright}</p> : <p></p>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"previous-image-column\" className=\"col-lg-3 col-md-3 col-sm-12\">\n\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"column-title col-12\"><strong>Last 7 Days</strong></h3>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.previousSeven.map(last => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={last[0].media_type === \"video\" ? thumbnail : last[0].hdurl} className={this.state.apod.date === last[0].date ? \"col-12 previous-image active\" : \"col-12 previous-image\"} loading=\"lazy\" key={last[0].title} onClick={() => {this.handleClick(last[0])}} alt={last[0].title} />\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</DocumentTitle>\n        );\n    }\n}\n\n// class DescriptionButton extends React.Component {\n// \tconstructor(props){\n// \t\tsuper(props);\n// \t\tthis.state = {\n// \t\t\tdescription: '',\n// \t\t\thideDescription: 'hideDescription'\n// \t\t};\n// \t}\n// \tcomponentDidMount() {\n// \t\tthis.setState({ description: this.props.description });\n// \t\tconsole.log(this.state.description);\n// \t\tconsole.log(this.props.description);\n// \t}\n// \thandleButtonClick = () => {\n// \t\tthis.setState({ hideDescription: \"show-description\"});\n// \t}\n// \trender() {\n// \t\tif(this.state.description !== this.props.description) {\n// \t\t\tthis.setState({ hideDescription: \"hideDescription\", description: this.props.description});\n// \t\t}\n// \t\treturn (\n// \t\t\t<div>\n// \t\t\t\t<p id=\"apod-description-button\" className=\"col-12\" onClick={this.handleButtonClick}>Click to Read Description...</p>\n// \t\t\t\t<p id=\"apod-description\" className={this.state.hideDescription}>{this.state.description}</p>\n// \t\t\t</div>\t\t\t\t\t\n// \t\t);\n// \t}\n\t\n// }"]},"metadata":{},"sourceType":"module"}