{"ast":null,"code":"import _regeneratorRuntime from\"/Users/phillipyang/Desktop/Nasa-Images-v3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/phillipyang/Desktop/Nasa-Images-v3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/phillipyang/Desktop/Nasa-Images-v3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/phillipyang/Desktop/Nasa-Images-v3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/phillipyang/Desktop/Nasa-Images-v3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/phillipyang/Desktop/Nasa-Images-v3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/phillipyang/Desktop/Nasa-Images-v3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import{fetchFavorites}from\"./NasaAPIs\";import{NavLink}from\"react-router-dom\";import Loading from\"./Loading\";import DocumentTitle from\"react-document-title\";import axios from\"axios\";var Favorites=/*#__PURE__*/function(_React$Component){_inherits(Favorites,_React$Component);function Favorites(props){var _this;_classCallCheck(this,Favorites);_this=_possibleConstructorReturn(this,_getPrototypeOf(Favorites).call(this,props));_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var fav;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({loading:true});_context.next=3;return axios.post('http://localhost:4000/account/favorites',{_id:_this.props.location.state.email});case 3:fav=_context.sent;_this.setState({mars:fav.data.mars,apod:fav.data.apod});_this.setState({loading:false});case 6:case\"end\":return _context.stop();}}},_callee);}));_this.state={mars:[],apod:[],loading:false};return _this;}_createClass(Favorites,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(DocumentTitle,{title:\"Favorites\"},React.createElement(\"div\",{id:\"favoritesPage\",className:\"container\",onClick:this.props.onClick},React.createElement(\"h1\",{className:\"page-title\"},\"Favorite Photos\"),this.state.loading?React.createElement(Loading,null):React.createElement(\"div\",null,React.createElement(\"h3\",{className:\"column-title col-12\"},React.createElement(\"strong\",null,\"Photo of the Day\")),React.createElement(\"div\",{className:\"photo-container\"},React.createElement(\"div\",{className:\"row photo-section\"},this.state.apod.map(function(favorite){return React.createElement(\"div\",{className:\"mars-photo col-lg-3 col-md-4 col-sm-6\",key:favorite._id},React.createElement(NavLink,{to:{pathname:\"/favorites/edit/\".concat(favorite._id),state:{email:_this2.props.location.state.email,api:\"apod\"}}},React.createElement(\"img\",{src:favorite.url,alt:favorite.comment})));}))),React.createElement(\"div\",{className:\"photo-container\"},React.createElement(\"h3\",{className:\"column-title col-12\"},React.createElement(\"strong\",null,\"Mars\")),React.createElement(\"div\",{className:\"row photo-section\"},this.state.mars.map(function(favorite){return React.createElement(\"div\",{className:\"mars-photo col-lg-3 col-md-4 col-sm-6\",key:favorite._id},React.createElement(NavLink,{to:{pathname:\"/favorites/edit/\".concat(favorite._id),state:{email:_this2.props.location.state.email,api:\"mars\"}}},React.createElement(\"img\",{src:favorite.url,alt:favorite.comment})));}))))));}}]);return Favorites;}(React.Component);export{Favorites as default};","map":{"version":3,"sources":["/Users/phillipyang/Desktop/Nasa-Images-v3/client/src/Favorites.js"],"names":["React","fetchFavorites","NavLink","Loading","DocumentTitle","axios","Favorites","props","componentDidMount","setState","loading","post","_id","location","state","email","fav","mars","data","apod","onClick","map","favorite","pathname","api","url","comment","Component"],"mappings":"4pCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,cAAT,KAA+B,YAA/B,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,aAAP,KAA0B,sBAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEqBC,CAAAA,S,+EACnB,mBAAYC,KAAZ,CAAmB,2CACjB,2EAAMA,KAAN,GADiB,MAQnBC,iBARmB,sEAQC,2IAClB,MAAKC,QAAL,CAAc,CAAEC,OAAO,CAAE,IAAX,CAAd,EADkB,sBAEAL,CAAAA,KAAK,CAACM,IAAN,CAAW,yCAAX,CAAsD,CAAEC,GAAG,CAAE,MAAKL,KAAL,CAAWM,QAAX,CAAoBC,KAApB,CAA0BC,KAAjC,CAAtD,CAFA,QAEZC,GAFY,eAGlB,MAAKP,QAAL,CAAc,CAACQ,IAAI,CAAED,GAAG,CAACE,IAAJ,CAASD,IAAhB,CAAsBE,IAAI,CAAEH,GAAG,CAACE,IAAJ,CAASC,IAArC,CAAd,EAEA,MAAKV,QAAL,CAAc,CAAEC,OAAO,CAAE,KAAX,CAAd,EALkB,sDARD,GAEjB,MAAKI,KAAL,CAAa,CACXG,IAAI,CAAE,EADK,CAEXE,IAAI,CAAE,EAFK,CAGXT,OAAO,CAAE,KAHE,CAAb,CAFiB,aAOlB,C,6DASQ,iBACP,MACE,qBAAC,aAAD,EAAe,KAAK,CAAC,WAArB,EACE,2BAAK,EAAE,CAAC,eAAR,CAAwB,SAAS,CAAC,WAAlC,CAA8C,OAAO,CAAE,KAAKH,KAAL,CAAWa,OAAlE,EACE,0BAAI,SAAS,CAAC,YAAd,oBADF,CAEG,KAAKN,KAAL,CAAWJ,OAAX,CACC,oBAAC,OAAD,MADD,CAGC,+BACE,0BAAI,SAAS,CAAC,qBAAd,EACE,qDADF,CADF,CAKE,2BAAK,SAAS,CAAC,iBAAf,EACE,2BAAK,SAAS,CAAC,mBAAf,EACG,KAAKI,KAAL,CAAWK,IAAX,CAAgBE,GAAhB,CAAoB,SAAAC,QAAQ,CAAI,CAC/B,MACE,4BACE,SAAS,CAAC,uCADZ,CAEE,GAAG,CAAEA,QAAQ,CAACV,GAFhB,EAIE,oBAAC,OAAD,EAAS,EAAE,CAAE,CACXW,QAAQ,2BAAqBD,QAAQ,CAACV,GAA9B,CADG,CAEXE,KAAK,CAAE,CACLC,KAAK,CAAE,MAAI,CAACR,KAAL,CAAWM,QAAX,CAAoBC,KAApB,CAA0BC,KAD5B,CAELS,GAAG,CAAE,MAFA,CAFI,CAAb,EAOE,2BAAK,GAAG,CAAEF,QAAQ,CAACG,GAAnB,CAAwB,GAAG,CAAEH,QAAQ,CAACI,OAAtC,EAPF,CAJF,CADF,CAgBD,CAjBA,CADH,CADF,CALF,CA4BE,2BAAK,SAAS,CAAC,iBAAf,EACE,0BAAI,SAAS,CAAC,qBAAd,EACE,yCADF,CADF,CAIE,2BAAK,SAAS,CAAC,mBAAf,EACG,KAAKZ,KAAL,CAAWG,IAAX,CAAgBI,GAAhB,CAAoB,SAAAC,QAAQ,CAAI,CAC/B,MACE,4BACE,SAAS,CAAC,uCADZ,CAEE,GAAG,CAAEA,QAAQ,CAACV,GAFhB,EAIE,oBAAC,OAAD,EAAS,EAAE,CAAE,CACXW,QAAQ,2BAAqBD,QAAQ,CAACV,GAA9B,CADG,CAEXE,KAAK,CAAE,CACLC,KAAK,CAAE,MAAI,CAACR,KAAL,CAAWM,QAAX,CAAoBC,KAApB,CAA0BC,KAD5B,CAELS,GAAG,CAAE,MAFA,CAFI,CAAb,EAOE,2BAAK,GAAG,CAAEF,QAAQ,CAACG,GAAnB,CAAwB,GAAG,CAAEH,QAAQ,CAACI,OAAtC,EAPF,CAJF,CADF,CAgBD,CAjBA,CADH,CAJF,CA5BF,CALJ,CADF,CADF,CAiED,C,uBAnFoC1B,KAAK,CAAC2B,S,SAAxBrB,S","sourcesContent":["import React from \"react\";\nimport { fetchFavorites } from \"./NasaAPIs\";\nimport { NavLink } from \"react-router-dom\";\nimport Loading from \"./Loading\";\nimport DocumentTitle from \"react-document-title\";\nimport axios from \"axios\";\n\nexport default class Favorites extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mars: [],\n      apod: [],\n      loading: false\n    };\n  }\n  componentDidMount = async () => {\n    this.setState({ loading: true });\n    const fav = await axios.post('http://localhost:4000/account/favorites', { _id: this.props.location.state.email });\n    this.setState({mars: fav.data.mars, apod: fav.data.apod});\n    \n    this.setState({ loading: false });\n  };\n\n  render() {\n    return (\n      <DocumentTitle title=\"Favorites\">\n        <div id=\"favoritesPage\" className=\"container\" onClick={this.props.onClick}>\n          <h1 className=\"page-title\">Favorite Photos</h1>\n          {this.state.loading ? (\n            <Loading />\n          ) : (\n            <div>\n              <h3 className=\"column-title col-12\">\n                <strong>Photo of the Day</strong>\n              </h3>\n\n              <div className=\"photo-container\">\n                <div className=\"row photo-section\">\n                  {this.state.apod.map(favorite => {\n                    return (\n                      <div\n                        className=\"mars-photo col-lg-3 col-md-4 col-sm-6\"\n                        key={favorite._id}\n                      >\n                        <NavLink to={{\n                          pathname: `/favorites/edit/${favorite._id}`,\n                          state: {\n                            email: this.props.location.state.email,\n                            api: \"apod\"\n                          }\n                        }}>\n                          <img src={favorite.url} alt={favorite.comment} />\n                          </NavLink>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n\n              <div className=\"photo-container\">\n                <h3 className=\"column-title col-12\">\n                  <strong>Mars</strong>\n                </h3>\n                <div className=\"row photo-section\">\n                  {this.state.mars.map(favorite => {\n                    return (\n                      <div\n                        className=\"mars-photo col-lg-3 col-md-4 col-sm-6\"\n                        key={favorite._id}\n                      >\n                        <NavLink to={{\n                          pathname: `/favorites/edit/${favorite._id}`,\n                          state: {\n                            email: this.props.location.state.email,\n                            api: \"mars\"\n                          }\n                        }}>\n                          <img src={favorite.url} alt={favorite.comment} />\n                        </NavLink>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </DocumentTitle>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}