{"ast":null,"code":"var _jsxFileName = \"/Users/phillipyang/Desktop/Nasa-Images-v4/client/src/Login.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport DocumentTitle from \"react-document-title\";\nimport { BACK_SERVER_URL } from './NasaAPIs';\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.toggleUI = () => {\n      this.setState({\n        showUI: true\n      });\n    };\n\n    this.handleToggle = e => {\n      e.preventDefault();\n      this.setState({\n        showLogin: !this.state.showLogin,\n        password: \"\",\n        passwordAgain: \"\",\n        email: \"\"\n      });\n    };\n\n    this.saveEmail = event => {\n      this.setState({\n        email: event.target.value,\n        emailErrorMessage: \"\",\n        loginError: false\n      });\n    };\n\n    this.savePassword = event => {\n      this.setState({\n        password: event.target.value,\n        passwordErrorMessage: \"\",\n        loginError: false\n      });\n    };\n\n    this.savePasswordAgain = event => {\n      this.setState({\n        passwordAgain: event.target.value,\n        passwordErrorMessage: \"\"\n      });\n    };\n\n    this.handleLogin = async event => {\n      event.preventDefault();\n      const account = {\n        _id: this.state.email.toLowerCase(),\n        password: this.state.password\n      };\n      await axios.post(`${BACK_SERVER_URL}/account/login`, account).then(response => {\n        this.props.onLogin(this.state.email);\n        this.setState({\n          isLoggedIn: true,\n          showUI: false\n        });\n        console.log(\"here\"); // this.props.history.push({\n        //     pathname: '/',\n        //     state: {\n        //         email: this.state.email\n        //     }\n        // });\n      }).catch(error => {\n        this.setState({\n          loginError: true\n        });\n      });\n    };\n\n    this.handleCreate = async event => {\n      event.preventDefault();\n\n      if (this.state.email.length < 5) {\n        this.setState({\n          emailErrorMessage: \"Email is invalid\"\n        });\n      } else if (this.state.password !== this.state.passwordAgain) {\n        this.setState({\n          passwordErrorMessage: \"Passwords must match\"\n        });\n      } else if (this.state.password.length < 8) {\n        this.setState({\n          passwordErrorMessage: \"Password must have at least 8 characters\"\n        });\n      } else if (!/^(?=.*[a-z])/.test(this.state.password)) {\n        this.setState({\n          passwordErrorMessage: \"Password must contain 1 lowercase character\"\n        });\n      } else if (!/^(?=.*[A-Z])/.test(this.state.password)) {\n        this.setState({\n          passwordErrorMessage: \"Password must contain 1 uppercase character\"\n        });\n      } else if (!/^(?=.*[0-9])/.test(this.state.password)) {\n        this.setState({\n          passwordErrorMessage: \"Password must contain 1 numerical character\"\n        });\n      } else {\n        this.setState({\n          emailErrorMessage: \"\"\n        });\n        this.setState({\n          passwordErrorMessage: \"\"\n        });\n        const account = {\n          _id: this.state.email.toLowerCase(),\n          password: this.state.password,\n          favorites: []\n        };\n        await axios.post(`${BACK_SERVER_URL}/account/signup`, account).then(response => {\n          this.props.onLogin(this.state.email);\n          this.setState({\n            isLoggedIn: true,\n            showUI: false\n          }); // this.props.history.push('/apod');\n        }).catch(error => {\n          this.setState({\n            emailErrorMessage: \"Email is already in use\"\n          });\n        });\n      }\n    };\n\n    this.state = {\n      showLogin: true,\n      password: \"\",\n      passwordAgain: \"\",\n      email: \"\",\n      passwordErrorMessage: \"\",\n      emailErrorMessage: \"\",\n      loginError: false,\n      showUI: false,\n      isLoggedIn: props.location.state === undefined ? false : true\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(DocumentTitle, {\n      title: \"Nasa Images\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"login-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, this.state.showUI ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"login-container\",\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"login-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 41\n      }\n    }, \"NASA Images\"), this.state.showLogin ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 49\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 57\n      }\n    }, \"Email: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      placeholder: \"johndoe@gmail.com\",\n      onChange: this.saveEmail,\n      value: this.state.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 57\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 57\n      }\n    }, \"Password: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      placeholder: \"********\",\n      onChange: this.savePassword,\n      value: this.state.password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 57\n      }\n    }), this.state.loginError ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 82\n      }\n    }, \"Invalid email or password\") : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 145\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 53\n      }\n    }, \"Login\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"login-links\",\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 53\n      }\n    }, \"Forgot Password?\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"col-6\",\n      onClick: this.handleToggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 53\n      }\n    }, \"Sign Up\"))) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 49\n      }\n    }, \"Create Account\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleCreate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 57\n      }\n    }, \"Email: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      placeholder: \"johndoe@gmail.com\",\n      onChange: this.saveEmail,\n      value: this.state.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 57\n      }\n    }), this.state.emailErrorMessage.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 100\n      }\n    }, this.state.emailErrorMessage) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 168\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 57\n      }\n    }, \"Password: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      placeholder: \"********\",\n      onChange: this.savePassword,\n      value: this.state.password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 57\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 57\n      }\n    }, \"Re-enter Password: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      placeholder: \"********\",\n      onChange: this.savePasswordAgain,\n      value: this.state.passwordAgain,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 57\n      }\n    }), this.state.passwordErrorMessage.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 103\n      }\n    }, this.state.passwordErrorMessage) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 174\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 53\n      }\n    }, \"Create\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"login-links\",\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      onClick: this.handleToggle,\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 53\n      }\n    }, \"Already have an account? Log in\"))))))) : /*#__PURE__*/React.createElement(\"div\", {\n      id: \"home-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 41\n      }\n    }, \"NASA IMAGES\"), this.state.isLoggedIn ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"home-link-container\",\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      className: \"col-6\",\n      to: {\n        pathname: '/apod',\n        state: {\n          email: this.state.email\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 53\n      }\n    }, \"APOD\")), /*#__PURE__*/React.createElement(NavLink, {\n      className: \"col-6\",\n      to: {\n        pathname: '/mars',\n        state: {\n          email: this.state.email\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 53\n      }\n    }, \"Mars\"))) : /*#__PURE__*/React.createElement(\"h2\", {\n      onClick: this.toggleUI,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 45\n      }\n    }, \"Login / Signup\")))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/phillipyang/Desktop/Nasa-Images-v4/client/src/Login.js"],"names":["React","axios","NavLink","DocumentTitle","BACK_SERVER_URL","Login","Component","constructor","props","toggleUI","setState","showUI","handleToggle","e","preventDefault","showLogin","state","password","passwordAgain","email","saveEmail","event","target","value","emailErrorMessage","loginError","savePassword","passwordErrorMessage","savePasswordAgain","handleLogin","account","_id","toLowerCase","post","then","response","onLogin","isLoggedIn","console","log","catch","error","handleCreate","length","test","favorites","location","undefined","render","pathname"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport DocumentTitle from \"react-document-title\";\nimport { BACK_SERVER_URL } from './NasaAPIs';\n\nexport default class Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showLogin: true,\n            password: \"\",\n            passwordAgain: \"\",\n            email: \"\",\n            passwordErrorMessage: \"\",\n            emailErrorMessage: \"\",\n            loginError: false,\n            showUI: false,\n            isLoggedIn: props.location.state === undefined ? false : true\n        };\n    }\n    toggleUI = () => {\n        this.setState({showUI: true});\n    }\n    handleToggle = e => {\n        e.preventDefault();\n        this.setState({showLogin: !this.state.showLogin, password: \"\", passwordAgain: \"\", email: \"\" });\n    }\n    saveEmail = event => {\n        this.setState({email: event.target.value, emailErrorMessage: \"\", loginError: false});\n    }\n    savePassword = event => {\n        this.setState({password: event.target.value, passwordErrorMessage: \"\", loginError: false });\n    }\n    savePasswordAgain = event => {\n        this.setState({passwordAgain: event.target.value, passwordErrorMessage: \"\" });\n    }\n\n    handleLogin = async event => {\n        event.preventDefault();\n        \n        const account = {\n            _id: this.state.email.toLowerCase(),\n            password: this.state.password\n        };\n        await axios.post(`${BACK_SERVER_URL}/account/login`, account)\n            .then(response => {\n                this.props.onLogin(this.state.email);\n                this.setState({isLoggedIn: true, showUI: false});\n                console.log(\"here\");\n                // this.props.history.push({\n                //     pathname: '/',\n                //     state: {\n                //         email: this.state.email\n                //     }\n                // });\n            })\n            .catch( error => {\n                this.setState({loginError: true});\n            });\n    }\n\n    handleCreate = async event => {\n        event.preventDefault();\n\n        if(this.state.email.length < 5) {\n            this.setState({emailErrorMessage: \"Email is invalid\"});\n        }\n        else if(this.state.password !== this.state.passwordAgain) {\n            this.setState({passwordErrorMessage: \"Passwords must match\"});\n        } \n        else if(this.state.password.length < 8) {\n            this.setState({passwordErrorMessage: \"Password must have at least 8 characters\"});\n        }\n        else if(!/^(?=.*[a-z])/.test(this.state.password)) {\n            this.setState({passwordErrorMessage: \"Password must contain 1 lowercase character\"});\n        }\n        else if(!/^(?=.*[A-Z])/.test(this.state.password)) {\n            this.setState({passwordErrorMessage: \"Password must contain 1 uppercase character\"});\n        }\n        else if(!/^(?=.*[0-9])/.test(this.state.password)) {\n            this.setState({passwordErrorMessage: \"Password must contain 1 numerical character\"});\n        }\n        else {\n            this.setState({emailErrorMessage: \"\"});\n            this.setState({passwordErrorMessage: \"\"});\n            \n            const account = {\n                _id: this.state.email.toLowerCase(),\n                password: this.state.password,\n                favorites: []\n            };\n            await axios.post(`${BACK_SERVER_URL}/account/signup`, account)\n                .then(response => {\n                    this.props.onLogin(this.state.email);\n                    this.setState({isLoggedIn: true, showUI: false});\n                    // this.props.history.push('/apod');\n                })\n                .catch( error => {\n                    this.setState({emailErrorMessage: \"Email is already in use\"});\n                });\n        }\n    }\n    \n\n    render() {\n\n        return (\n            <DocumentTitle title=\"Nasa Images\">\n                <div id=\"login-page\">\n                    {this.state.showUI ? \n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div id=\"login-container\" className=\"col-12\">\n                                    <div id=\"login-content\">\n                                        <h1>NASA Images</h1>\n                                        {this.state.showLogin ? \n                                            <div>\n                                                <h3>Login</h3>\n                                                <form onSubmit={this.handleLogin} >\n                                                    <div className=\"form-group\">\n                                                        <label>Email: </label>\n                                                        <input type=\"email\" className=\"form-control\" placeholder=\"johndoe@gmail.com\" onChange={this.saveEmail} value={this.state.email}/>\n                                                    </div>\n                                                    <div className=\"form-group\">\n                                                        <label>Password: </label>\n                                                        <input type=\"password\" className=\"form-control\" placeholder=\"********\" onChange={this.savePassword} value={this.state.password}/>\n                                                        {this.state.loginError ? <div className=\"text-danger\">Invalid email or password</div> : <div /> }\n                                                    </div>\n                                                    <button className=\"btn btn-primary\" type=\"submit\">Login</button>\n                                                </form>\n                                                <div id=\"login-links\" className=\"row\">\n                                                    <p className=\"col-6\">Forgot Password?</p>\n                                                    <p className=\"col-6\"onClick={this.handleToggle}>Sign Up</p>\n                                                </div>\n                                            </div> :\n                                            <div>\n                                                <h3>Create Account</h3>\n                                                <form onSubmit={this.handleCreate} >\n                                                    <div className=\"form-group\">\n                                                        <label>Email: </label>\n                                                        <input type=\"email\" className=\"form-control\" placeholder=\"johndoe@gmail.com\" onChange={this.saveEmail} value={this.state.email}/>\n                                                        {this.state.emailErrorMessage.length > 0 ? <div className=\"text-danger\">{this.state.emailErrorMessage}</div> : <div /> }\n                                                    </div>\n                                                    \n                                                    <div className=\"form-group\">\n                                                        <label>Password: </label>\n                                                        <input type=\"password\" className=\"form-control\" placeholder=\"********\" onChange={this.savePassword} value={this.state.password}/>\n                                                    </div>\n                                                    <div className=\"form-group\">\n                                                        <label>Re-enter Password: </label>\n                                                        <input type=\"password\" className=\"form-control\" placeholder=\"********\" onChange={this.savePasswordAgain} value={this.state.passwordAgain}/>\n                                                        {this.state.passwordErrorMessage.length > 0 ? <div className=\"text-danger\">{this.state.passwordErrorMessage}</div> : <div /> }\n                                                    </div>\n                                                    <button className=\"btn btn-success\" type=\"submit\">Create</button>\n                                                </form>\n                                                <div id=\"login-links\" className=\"row\">\n                                                    <p onClick={this.handleToggle} className=\"col-12\">Already have an account? Log in</p>\n                                                </div>\n                                            </div>\n                                        }\n                                    </div>\n                                </div> \n                            </div>\n                        </div> :\n                        <div id=\"home-page\">\n                            <div className=\"container\">\n                                <div className=\"row\">\n                                    <div className=\"col-12\">\n                                        <h1>NASA IMAGES</h1>\n                                        {this.state.isLoggedIn ? \n                                            <div id=\"home-link-container\" className=\"row\">\n                                                \n                                                <NavLink className=\"col-6\" to={{\n                                                        pathname: '/apod',\n                                                        state: {\n                                                            email: this.state.email\n                                                        }\n                                                    }}>\n                                                    <h2 >\n                                                        APOD\n                                                    </h2>\n                                                </NavLink>\n\n                                                \n                                                <NavLink className=\"col-6\" to={{\n                                                    pathname: '/mars',\n                                                    state: {\n                                                        email: this.state.email\n                                                    }\n                                                }}>\n                                                    <h2>\n                                                        Mars\n                                                    </h2>\n                                                </NavLink>\n                                                \n                                            </div> :\n                                            <h2 onClick={this.toggleUI}>Login / Signup</h2> \n                                        }\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    }\n                </div>\n            </DocumentTitle>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}